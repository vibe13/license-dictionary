<div class="row">
	<div class="col-md-12">
		<div class="page-header">
			<div class="btn-group pull-right" role="group"
				aria-label="Action Toolbar">
				<button type="button" class="btn btn-default btn-lg"
				    routerLink="/edit">
					<span class="glyphicon glyphicon-plus"></span>&nbsp;Create
					License
				</button>
			</div>
			<h1 class="header-title">License list</h1>
		</div>
	</div>
</div>
<div class="row">
	<div class="col-md-4">
		<div class="input-group input-group-md add-on">
			<input type="text" class="form-control search-query"
				[(ngModel)]="searchTerm" (keyup.enter)="searchForLicenses(0)"
				placeholder="Enter a search term" name="name" />
			<div class="input-group-btn">
				<button class="btn btn-default" type="button"
					(click)="searchForLicenses(0)">
					<i class="glyphicon glyphicon-search"></i>
				</button>
			</div>
		</div>
	</div>
	<div class="col-md-6">
		<h4 class="text-center">&nbsp;</h4>
	</div>
	<div class="col-md-2">
		<select class="form-control input-md pull-right"
			[(ngModel)]="itemsPerPage" (ngModelChange)="setPagination()">
			<option *ngFor="let pgSize of pageSizes" [value]="pgSize">show
				{{pgSize}} per page</option>
		</select>
	</div>
</div>
<br>
<div class="table-responsive">
	<table class="datatable table table-striped table-hover table-bordered">
		<thead>
			<tr>
				<th rowspan="2">Code</th>
				<th colspan="2"><span class="label label-info">Fedora</span></th>
				<th colspan="2"><span class="label label-success">Spdx</span></th>
				<th class="description" rowspan="2">Aliases</th>
				<th rowspan="2">Status</th>
			</tr>
			<tr>
				<th>Full name</th>
				<th>Abbrev</th>
				<th>Full name</th>
				<th>Abbrev</th>
			</tr>
		</thead>
		<tbody>
			<tr *ngFor="let license of licenses">
				<td><a (click)="view(license.id)">{{license.code}}</a></td>
				<td>{{license.fedoraName}}</td>
				<td>{{license.fedoraAbbreviation}}</td>
				<td>{{license.spdxName}}</td>
				<td>{{license.spdxAbbreviation}}</td>
				<td>
					<table>
						<tbody>
							<tr>
								<td><div *ngFor="let alias of license.aliasNames">
										{{alias}}<br>
									</div></td>
							</tr>
						</tbody>
					</table>
				</td>
				<td style="font-size: inherit;"
					class="state state-{{license.licenseApprovalStatus.name}}">{{license.licenseApprovalStatus.name}}</td>
			</tr>
		</tbody>
		<tfoot>
			<tr>
				<td colspan="9">
					<div class="text-center">
						<ul class="pagination">
							<li [ngClass]="{disabled: currentPage == 0}"><a
								href="javascript:;" (click)="prevPage()">« Prev</a></li>
							<li *ngFor="let n of range(totalPages)"
								[ngClass]="{active: n == currentPage}" (click)="setPage(n)">
								<a href="javascript:;">{{n+1}}</a>
							</li>
							<li [ngClass]="{disabled: allLoaded == true}"><a
								href="javascript:;" (click)="nextPage()">Next »</a></li>
						</ul>
					</div>
				</td>
			</tr>
		</tfoot>
	</table>
</div>

